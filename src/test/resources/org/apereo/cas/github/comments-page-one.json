[
  {
    "url": "https://api.github.com/repos/spring-projects/spring-boot/issues/comments/42658986",
    "html_url": "https://github.com/spring-projects/spring-boot/issues/739#issuecomment-42658986",
    "issue_url": "https://api.github.com/repos/spring-projects/spring-boot/issues/739",
    "id": 42658986,
    "user": {
      "login": "alex-konkov",
      "id": 5979834,
      "avatar_url": "https://avatars.githubusercontent.com/u/5979834?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alex-konkov",
      "html_url": "https://github.com/alex-konkov",
      "followers_url": "https://api.github.com/users/alex-konkov/followers",
      "following_url": "https://api.github.com/users/alex-konkov/following{/other_user}",
      "gists_url": "https://api.github.com/users/alex-konkov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alex-konkov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alex-konkov/subscriptions",
      "organizations_url": "https://api.github.com/users/alex-konkov/orgs",
      "repos_url": "https://api.github.com/users/alex-konkov/repos",
      "events_url": "https://api.github.com/users/alex-konkov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alex-konkov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-05-09T12:07:27Z",
    "updated_at": "2014-05-09T12:07:44Z",
    "body": "Would be interesting what do people think on that and if there is a chance to get it done in spring-boot some day. Any thoughts? thx"
  },
  {
    "url": "https://api.github.com/repos/spring-projects/spring-boot/issues/comments/42822369",
    "html_url": "https://github.com/spring-projects/spring-boot/issues/739#issuecomment-42822369",
    "issue_url": "https://api.github.com/repos/spring-projects/spring-boot/issues/739",
    "id": 42822369,
    "user": {
      "login": "MuzuMatt",
      "id": 5112682,
      "avatar_url": "https://avatars.githubusercontent.com/u/5112682?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MuzuMatt",
      "html_url": "https://github.com/MuzuMatt",
      "followers_url": "https://api.github.com/users/MuzuMatt/followers",
      "following_url": "https://api.github.com/users/MuzuMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/MuzuMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MuzuMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MuzuMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/MuzuMatt/orgs",
      "repos_url": "https://api.github.com/users/MuzuMatt/repos",
      "events_url": "https://api.github.com/users/MuzuMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MuzuMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-05-12T11:47:36Z",
    "updated_at": "2014-05-12T11:47:36Z",
    "body": "I would certainly welcome this as an enhancement.  This is the one limitation that prevents some of my apps from being contained in a single jar file."
  },
  {
    "url": "https://api.github.com/repos/spring-projects/spring-boot/issues/comments/46397356",
    "html_url": "https://github.com/spring-projects/spring-boot/issues/739#issuecomment-46397356",
    "issue_url": "https://api.github.com/repos/spring-projects/spring-boot/issues/739",
    "id": 46397356,
    "user": {
      "login": "mahe-kl",
      "id": 689801,
      "avatar_url": "https://avatars.githubusercontent.com/u/689801?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mahe-kl",
      "html_url": "https://github.com/mahe-kl",
      "followers_url": "https://api.github.com/users/mahe-kl/followers",
      "following_url": "https://api.github.com/users/mahe-kl/following{/other_user}",
      "gists_url": "https://api.github.com/users/mahe-kl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mahe-kl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mahe-kl/subscriptions",
      "organizations_url": "https://api.github.com/users/mahe-kl/orgs",
      "repos_url": "https://api.github.com/users/mahe-kl/repos",
      "events_url": "https://api.github.com/users/mahe-kl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mahe-kl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-06-18T05:27:22Z",
    "updated_at": "2014-06-18T05:27:22Z",
    "body": "This would be very much appreciated. So far we've been stuck with Spring dynamic proxy based AOP and its limitations  which has lead to all kinds of ugliness such as static support classes duplicating the aspect's behaviour etc.\r\n\r\nThe reason for this has been that we have been running our applications with Maven Jetty plugin and don't want to ship the aspectj agent jar separately with the application. Ideally it should come from repository just like any other dependency without the need to specify it's exact location on command line.\r\n\r\nWe're at the moment changing over to spring boot, gradle and other cool stuff and this would be a huge plus."
  },
  {
    "url": "https://api.github.com/repos/spring-projects/spring-boot/issues/comments/58429597",
    "html_url": "https://github.com/spring-projects/spring-boot/issues/739#issuecomment-58429597",
    "issue_url": "https://api.github.com/repos/spring-projects/spring-boot/issues/739",
    "id": 58429597,
    "user": {
      "login": "kmandeville",
      "id": 1746424,
      "avatar_url": "https://avatars.githubusercontent.com/u/1746424?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kmandeville",
      "html_url": "https://github.com/kmandeville",
      "followers_url": "https://api.github.com/users/kmandeville/followers",
      "following_url": "https://api.github.com/users/kmandeville/following{/other_user}",
      "gists_url": "https://api.github.com/users/kmandeville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kmandeville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kmandeville/subscriptions",
      "organizations_url": "https://api.github.com/users/kmandeville/orgs",
      "repos_url": "https://api.github.com/users/kmandeville/repos",
      "events_url": "https://api.github.com/users/kmandeville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kmandeville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-08T21:19:45Z",
    "updated_at": "2014-10-08T21:19:45Z",
    "body": "Any progress on this? Looks like it keeps slipping milestones..."
  },
  {
    "url": "https://api.github.com/repos/spring-projects/spring-boot/issues/comments/58470893",
    "html_url": "https://github.com/spring-projects/spring-boot/issues/739#issuecomment-58470893",
    "issue_url": "https://api.github.com/repos/spring-projects/spring-boot/issues/739",
    "id": 58470893,
    "user": {
      "login": "benneq",
      "id": 1627305,
      "avatar_url": "https://avatars.githubusercontent.com/u/1627305?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benneq",
      "html_url": "https://github.com/benneq",
      "followers_url": "https://api.github.com/users/benneq/followers",
      "following_url": "https://api.github.com/users/benneq/following{/other_user}",
      "gists_url": "https://api.github.com/users/benneq/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benneq/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benneq/subscriptions",
      "organizations_url": "https://api.github.com/users/benneq/orgs",
      "repos_url": "https://api.github.com/users/benneq/repos",
      "events_url": "https://api.github.com/users/benneq/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benneq/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-09T07:05:05Z",
    "updated_at": "2014-10-09T07:05:05Z",
    "body": "Would be cool if this makes it in 1.2.0."
  },
  {
    "url": "https://api.github.com/repos/spring-projects/spring-boot/issues/comments/58511066",
    "html_url": "https://github.com/spring-projects/spring-boot/issues/739#issuecomment-58511066",
    "issue_url": "https://api.github.com/repos/spring-projects/spring-boot/issues/739",
    "id": 58511066,
    "user": {
      "login": "wilkinsona",
      "id": 914682,
      "avatar_url": "https://avatars.githubusercontent.com/u/914682?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wilkinsona",
      "html_url": "https://github.com/wilkinsona",
      "followers_url": "https://api.github.com/users/wilkinsona/followers",
      "following_url": "https://api.github.com/users/wilkinsona/following{/other_user}",
      "gists_url": "https://api.github.com/users/wilkinsona/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wilkinsona/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wilkinsona/subscriptions",
      "organizations_url": "https://api.github.com/users/wilkinsona/orgs",
      "repos_url": "https://api.github.com/users/wilkinsona/repos",
      "events_url": "https://api.github.com/users/wilkinsona/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wilkinsona/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-09T13:46:12Z",
    "updated_at": "2014-10-09T13:46:12Z",
    "body": "I have some doubts about the usability of this feature. Perhaps those who are interested in it can allay my fears. My primary concern is that launching your app via `java -jar` would give you load-time weaving automatically, whereas launching it via the main method in your IDE would not. A similar problem would exist when running integration tests (there's [an issue](https://jira.spring.io/browse/SPR-9938) open against Spring's Test framework for this).\r\n\r\nWhile having to configure the agent is clunky, I like the fact that it's consistent."
  },
  {
    "url": "https://api.github.com/repos/spring-projects/spring-boot/issues/comments/59260372",
    "html_url": "https://github.com/spring-projects/spring-boot/issues/739#issuecomment-59260372",
    "issue_url": "https://api.github.com/repos/spring-projects/spring-boot/issues/739",
    "id": 59260372,
    "user": {
      "login": "dwelch2344",
      "id": 160142,
      "avatar_url": "https://avatars.githubusercontent.com/u/160142?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dwelch2344",
      "html_url": "https://github.com/dwelch2344",
      "followers_url": "https://api.github.com/users/dwelch2344/followers",
      "following_url": "https://api.github.com/users/dwelch2344/following{/other_user}",
      "gists_url": "https://api.github.com/users/dwelch2344/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dwelch2344/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dwelch2344/subscriptions",
      "organizations_url": "https://api.github.com/users/dwelch2344/orgs",
      "repos_url": "https://api.github.com/users/dwelch2344/repos",
      "events_url": "https://api.github.com/users/dwelch2344/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dwelch2344/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-15T19:19:15Z",
    "updated_at": "2014-10-15T19:19:15Z",
    "body": "+1 to this"
  },
  {
    "url": "https://api.github.com/repos/spring-projects/spring-boot/issues/comments/59425934",
    "html_url": "https://github.com/spring-projects/spring-boot/issues/739#issuecomment-59425934",
    "issue_url": "https://api.github.com/repos/spring-projects/spring-boot/issues/739",
    "id": 59425934,
    "user": {
      "login": "alex-konkov",
      "id": 5979834,
      "avatar_url": "https://avatars.githubusercontent.com/u/5979834?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alex-konkov",
      "html_url": "https://github.com/alex-konkov",
      "followers_url": "https://api.github.com/users/alex-konkov/followers",
      "following_url": "https://api.github.com/users/alex-konkov/following{/other_user}",
      "gists_url": "https://api.github.com/users/alex-konkov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alex-konkov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alex-konkov/subscriptions",
      "organizations_url": "https://api.github.com/users/alex-konkov/orgs",
      "repos_url": "https://api.github.com/users/alex-konkov/repos",
      "events_url": "https://api.github.com/users/alex-konkov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alex-konkov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-10-16T20:34:31Z",
    "updated_at": "2014-10-16T20:34:31Z",
    "body": "**wilkinsona**, your point is valid but it is rather consistently not implemented in either usage case. The change towards LTW support appears to be evolutionary as long as spring boot brings the idea of self-sufficient package."
  },
  {
    "url": "https://api.github.com/repos/spring-projects/spring-boot/issues/comments/93217370",
    "html_url": "https://github.com/spring-projects/spring-boot/issues/739#issuecomment-93217370",
    "issue_url": "https://api.github.com/repos/spring-projects/spring-boot/issues/739",
    "id": 93217370,
    "user": {
      "login": "beihaifeiwu",
      "id": 5372382,
      "avatar_url": "https://avatars.githubusercontent.com/u/5372382?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beihaifeiwu",
      "html_url": "https://github.com/beihaifeiwu",
      "followers_url": "https://api.github.com/users/beihaifeiwu/followers",
      "following_url": "https://api.github.com/users/beihaifeiwu/following{/other_user}",
      "gists_url": "https://api.github.com/users/beihaifeiwu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beihaifeiwu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beihaifeiwu/subscriptions",
      "organizations_url": "https://api.github.com/users/beihaifeiwu/orgs",
      "repos_url": "https://api.github.com/users/beihaifeiwu/repos",
      "events_url": "https://api.github.com/users/beihaifeiwu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beihaifeiwu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-15T06:22:02Z",
    "updated_at": "2015-04-15T06:22:02Z",
    "body": "+1 to this"
  },
  {
    "url": "https://api.github.com/repos/spring-projects/spring-boot/issues/comments/99082508",
    "html_url": "https://github.com/spring-projects/spring-boot/issues/739#issuecomment-99082508",
    "issue_url": "https://api.github.com/repos/spring-projects/spring-boot/issues/739",
    "id": 99082508,
    "user": {
      "login": "kjozsa",
      "id": 203229,
      "avatar_url": "https://avatars.githubusercontent.com/u/203229?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kjozsa",
      "html_url": "https://github.com/kjozsa",
      "followers_url": "https://api.github.com/users/kjozsa/followers",
      "following_url": "https://api.github.com/users/kjozsa/following{/other_user}",
      "gists_url": "https://api.github.com/users/kjozsa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kjozsa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kjozsa/subscriptions",
      "organizations_url": "https://api.github.com/users/kjozsa/orgs",
      "repos_url": "https://api.github.com/users/kjozsa/repos",
      "events_url": "https://api.github.com/users/kjozsa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kjozsa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-05T13:46:19Z",
    "updated_at": "2015-05-05T13:46:19Z",
    "body": "I would also need this feature, count me in please. +1"
  },
  {
    "url": "https://api.github.com/repos/spring-projects/spring-boot/issues/comments/99091536",
    "html_url": "https://github.com/spring-projects/spring-boot/issues/739#issuecomment-99091536",
    "issue_url": "https://api.github.com/repos/spring-projects/spring-boot/issues/739",
    "id": 99091536,
    "user": {
      "login": "kjozsa",
      "id": 203229,
      "avatar_url": "https://avatars.githubusercontent.com/u/203229?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kjozsa",
      "html_url": "https://github.com/kjozsa",
      "followers_url": "https://api.github.com/users/kjozsa/followers",
      "following_url": "https://api.github.com/users/kjozsa/following{/other_user}",
      "gists_url": "https://api.github.com/users/kjozsa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kjozsa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kjozsa/subscriptions",
      "organizations_url": "https://api.github.com/users/kjozsa/orgs",
      "repos_url": "https://api.github.com/users/kjozsa/repos",
      "events_url": "https://api.github.com/users/kjozsa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kjozsa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-05T14:15:48Z",
    "updated_at": "2015-05-05T14:15:48Z",
    "body": "Also, a quick comment above as \"being consistent\" - if you have a spring-boot project with Eclipselink which does require LTW, running it with \"mvn spring-boot:run\" will work and running the packaged jar file with \"java -jar\" will just fail. \r\n\r\nAn example of this problem is demonstrated with this project: https://github.com/dsyer/spring-boot-sample-data-eclipselink - clone it, mvn package and java -jar the built jar, it fails badly."
  },
  {
    "url": "https://api.github.com/repos/spring-projects/spring-boot/issues/comments/99105236",
    "html_url": "https://github.com/spring-projects/spring-boot/issues/739#issuecomment-99105236",
    "issue_url": "https://api.github.com/repos/spring-projects/spring-boot/issues/739",
    "id": 99105236,
    "user": {
      "login": "wilkinsona",
      "id": 914682,
      "avatar_url": "https://avatars.githubusercontent.com/u/914682?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wilkinsona",
      "html_url": "https://github.com/wilkinsona",
      "followers_url": "https://api.github.com/users/wilkinsona/followers",
      "following_url": "https://api.github.com/users/wilkinsona/following{/other_user}",
      "gists_url": "https://api.github.com/users/wilkinsona/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wilkinsona/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wilkinsona/subscriptions",
      "organizations_url": "https://api.github.com/users/wilkinsona/orgs",
      "repos_url": "https://api.github.com/users/wilkinsona/repos",
      "events_url": "https://api.github.com/users/wilkinsona/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wilkinsona/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-05T14:59:08Z",
    "updated_at": "2015-05-05T14:59:08Z",
    "body": "It only works with `mvn spring-boot:run` because the [agent is configured in the `pom.xml`](https://github.com/dsyer/spring-boot-sample-data-eclipselink/blob/master/pom.xml#L83-L85):\r\n\r\n```\r\n<configuration>\r\n    <agent>${settings.localRepository}/org/springframework/spring-instrument/${spring.version}/spring-instrument-${spring.version}.jar</agent>\r\n</configuration>\r\n```\r\n\r\nIf you don't supply the equivalent configuration when running the application using `java -jar` it will, quite reasonably, fail.\r\n"
  },
  {
    "url": "https://api.github.com/repos/spring-projects/spring-boot/issues/comments/132124896",
    "html_url": "https://github.com/spring-projects/spring-boot/issues/739#issuecomment-132124896",
    "issue_url": "https://api.github.com/repos/spring-projects/spring-boot/issues/739",
    "id": 132124896,
    "user": {
      "login": "imod",
      "id": 543297,
      "avatar_url": "https://avatars.githubusercontent.com/u/543297?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/imod",
      "html_url": "https://github.com/imod",
      "followers_url": "https://api.github.com/users/imod/followers",
      "following_url": "https://api.github.com/users/imod/following{/other_user}",
      "gists_url": "https://api.github.com/users/imod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/imod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/imod/subscriptions",
      "organizations_url": "https://api.github.com/users/imod/orgs",
      "repos_url": "https://api.github.com/users/imod/repos",
      "events_url": "https://api.github.com/users/imod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/imod/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-18T08:56:52Z",
    "updated_at": "2015-08-18T08:56:52Z",
    "body": "is there anything we can do to make this happen?"
  },
  {
    "url": "https://api.github.com/repos/spring-projects/spring-boot/issues/comments/132125365",
    "html_url": "https://github.com/spring-projects/spring-boot/issues/739#issuecomment-132125365",
    "issue_url": "https://api.github.com/repos/spring-projects/spring-boot/issues/739",
    "id": 132125365,
    "user": {
      "login": "wilkinsona",
      "id": 914682,
      "avatar_url": "https://avatars.githubusercontent.com/u/914682?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wilkinsona",
      "html_url": "https://github.com/wilkinsona",
      "followers_url": "https://api.github.com/users/wilkinsona/followers",
      "following_url": "https://api.github.com/users/wilkinsona/following{/other_user}",
      "gists_url": "https://api.github.com/users/wilkinsona/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wilkinsona/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wilkinsona/subscriptions",
      "organizations_url": "https://api.github.com/users/wilkinsona/orgs",
      "repos_url": "https://api.github.com/users/wilkinsona/repos",
      "events_url": "https://api.github.com/users/wilkinsona/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wilkinsona/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-18T08:59:45Z",
    "updated_at": "2015-08-18T08:59:45Z",
    "body": "I've yet to see a compelling argument against my [usability concerns described above](https://github.com/spring-projects/spring-boot/issues/739#issuecomment-58511066)."
  },
  {
    "url": "https://api.github.com/repos/spring-projects/spring-boot/issues/comments/132140683",
    "html_url": "https://github.com/spring-projects/spring-boot/issues/739#issuecomment-132140683",
    "issue_url": "https://api.github.com/repos/spring-projects/spring-boot/issues/739",
    "id": 132140683,
    "user": {
      "login": "imod",
      "id": 543297,
      "avatar_url": "https://avatars.githubusercontent.com/u/543297?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/imod",
      "html_url": "https://github.com/imod",
      "followers_url": "https://api.github.com/users/imod/followers",
      "following_url": "https://api.github.com/users/imod/following{/other_user}",
      "gists_url": "https://api.github.com/users/imod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/imod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/imod/subscriptions",
      "organizations_url": "https://api.github.com/users/imod/orgs",
      "repos_url": "https://api.github.com/users/imod/repos",
      "events_url": "https://api.github.com/users/imod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/imod/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-18T09:28:08Z",
    "updated_at": "2015-08-18T09:29:32Z",
    "body": "hmm, not sure the miss of a feature on the test framework is a compelling argument...\r\n\r\nFor us, this missing feature means we can't use load time weaving on cloudfoundry with any spring boot application. Because the deploy unit is a single JAR - if we wanna change this, then we have to fork the java_buildpack and add this functionality (that's nothing I really wanna do). \r\nLooking at the importance of spring for cloudfoundry (in both ways) I would assume this argument is stronger then the one about the test framework.\r\n\r\nIn fact implementing it here will maybe have @sbrannen to take an other look at the mention issue in the test framework too."
  },
  {
    "url": "https://api.github.com/repos/spring-projects/spring-boot/issues/comments/132148778",
    "html_url": "https://github.com/spring-projects/spring-boot/issues/739#issuecomment-132148778",
    "issue_url": "https://api.github.com/repos/spring-projects/spring-boot/issues/739",
    "id": 132148778,
    "user": {
      "login": "wilkinsona",
      "id": 914682,
      "avatar_url": "https://avatars.githubusercontent.com/u/914682?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wilkinsona",
      "html_url": "https://github.com/wilkinsona",
      "followers_url": "https://api.github.com/users/wilkinsona/followers",
      "following_url": "https://api.github.com/users/wilkinsona/following{/other_user}",
      "gists_url": "https://api.github.com/users/wilkinsona/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wilkinsona/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wilkinsona/subscriptions",
      "organizations_url": "https://api.github.com/users/wilkinsona/orgs",
      "repos_url": "https://api.github.com/users/wilkinsona/repos",
      "events_url": "https://api.github.com/users/wilkinsona/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wilkinsona/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-18T09:51:32Z",
    "updated_at": "2015-08-18T09:51:32Z",
    "body": "> hmm, not sure the miss of a feature on the test framework is a compelling argument...\r\n\r\nAs I said above, that's a secondary concern. My primary concern is about the complexity of having things behave differently when you run using `java -jar`, vs launching the main method in your IDE, vs launching via our Maven or Gradle plugins. Rather than having to document different behaviour depending on how you launch your application, I like the consistency of the current behaviour. As things stand, you consistently have to configure the agent. Adding some magic to `java -jar` would break that consistency.\r\n\r\nThe Java buildpack already has support for a number of Java agents. Another way to tackle your particular problem would be via an enhancement to the buildpack. /cc @cgfrost"
  },
  {
    "url": "https://api.github.com/repos/spring-projects/spring-boot/issues/comments/132182069",
    "html_url": "https://github.com/spring-projects/spring-boot/issues/739#issuecomment-132182069",
    "issue_url": "https://api.github.com/repos/spring-projects/spring-boot/issues/739",
    "id": 132182069,
    "user": {
      "login": "lukiano",
      "id": 686213,
      "avatar_url": "https://avatars.githubusercontent.com/u/686213?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lukiano",
      "html_url": "https://github.com/lukiano",
      "followers_url": "https://api.github.com/users/lukiano/followers",
      "following_url": "https://api.github.com/users/lukiano/following{/other_user}",
      "gists_url": "https://api.github.com/users/lukiano/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lukiano/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lukiano/subscriptions",
      "organizations_url": "https://api.github.com/users/lukiano/orgs",
      "repos_url": "https://api.github.com/users/lukiano/repos",
      "events_url": "https://api.github.com/users/lukiano/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lukiano/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-18T11:34:37Z",
    "updated_at": "2015-08-18T11:34:37Z",
    "body": "This is what I did to make it work:\r\n\r\n*pom.xml*\r\n\r\n```xml\r\n<plugin>\r\n  <groupId>org.springframework.boot</groupId>\r\n  <artifactId>spring-boot-maven-plugin</artifactId>\r\n  <configuration>\r\n    <layout>ZIP</layout>\r\n    <mainClass>org.springframework.boot.SpringApplication</mainClass>\r\n  </configuration>\r\n</plugin>\r\n```\r\nZIP layout so that it uses the `org.springframework.boot.loader.PropertiesLauncher`\r\n\r\n*application.properties*\r\n```properties\r\nloader.classLoader=packageName.TransformingClassLoader\r\nloader.main=org.springframework.boot.SpringApplication\r\nspring.main.sources=packageName.Config\r\n```\r\nHere I tell the PropertiesLauncher to use my own classLoader, and that the main program is the standard `SpringApplication`, with `packageName.Config` as my Spring configuration file.\r\n\r\n*TransformingClassLoader.java*\r\nhttps://gist.github.com/lukiano/114cb01a59ddd9880aa7\r\nbased on `org.springframework.instrument.classloading.ShadowingClassLoader` and `org.springframework.core.OverridingClassLoader`\r\n\r\nAnd then my Config file implements LoadTimeWeavingConfigurer\r\n```java\r\npublic LoadTimeWeaver getLoadTimeWeaver() {\r\n  return new ReflectiveLoadTimeWeaver(Thread.currentThread().getContextClassLoader());\r\n}\r\n```\r\n\r\nSo basically it loads the entire Spring context under my own ClassLoader which implements the transformer methods that `ReflectiveLoadTimeWeaver` expects. And it still works when it creates a fat-jar, so it doesn't depend on being run with `mvn spring-boot:run`"
  }
]
